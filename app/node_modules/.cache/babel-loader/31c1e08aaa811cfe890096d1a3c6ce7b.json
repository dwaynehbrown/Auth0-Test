{"ast":null,"code":"var _jsxFileName = \"/Users/dwaynebrown/Desktop/Next Reason/Lytics/Github/auth0-react-samples/Pizza/src/components/Order.js\";\nimport React from \"react\";\nimport logo from \"../assets/logo.svg\";\nimport { useAuth0, withAuthenticationRequired } from \"@auth0/auth0-react\";\nimport { render } from \"react-dom\";\nimport Loading from \"./Loading\";\nimport { NavLink as RouterNavLink } from \"react-router-dom\";\nimport { Button, NavLink } from \"reactstrap\";\nimport axios from \"axios\";\n\nconst Order = props => {\n  const onPlaceOrder = async () => {\n    async () => {\n      const token = await getAccessTokenSilently();\n      axios.get('http://localhost:3001/api/order', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }).then(resp => {\n        let orders = user.app_metadata && typeof user.app_metadata.order != 'undefined' ? user.app_metadata.orders : [];\n        axios.post('https://db-test.eu.auth0.com/api/v2/users/' + user.sub, {\n          app_metadata: { ...user.app_metadata,\n            orders: [...orders, { ...resp.data\n            }]\n          },\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n      });\n    };\n  };\n\n  console.log('order props', props);\n  const {\n    user,\n    isAuthenticated,\n    getAccessTokenSilently,\n    loginWithRedirect,\n    logout\n  } = useAuth0();\n\n  const onTriggerVerifyEmail = () => {};\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, \"Place your order\"), !user.email_verified && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, \"1. Please verify your email before continuing\"), /*#__PURE__*/React.createElement(\"a\", {\n    onClick: onTriggerVerifyEmail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, \" Click here to resend email \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, \"2. Place your order\")), user.email_verified && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h6\", {\n    style: {\n      color: 'green'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, \"1. You have already verified your email address\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, \"2. Order Details\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, \"1 x Summer Yummy Tummy Tickler\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, \"Honestly, the bestpizza you've never had.\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    onClick: onPlaceOrder,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, \"Order Now\")));\n};\n\nexport default withAuthenticationRequired(Order, {\n  onRedirecting: () => /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 26\n    }\n  })\n});","map":{"version":3,"sources":["/Users/dwaynebrown/Desktop/Next Reason/Lytics/Github/auth0-react-samples/Pizza/src/components/Order.js"],"names":["React","useAuth0","withAuthenticationRequired","render","Loading","NavLink","RouterNavLink","Button","axios","Order","props","onPlaceOrder","token","getAccessTokenSilently","get","headers","Authorization","then","resp","orders","user","app_metadata","order","post","sub","data","console","log","isAuthenticated","loginWithRedirect","logout","onTriggerVerifyEmail","email_verified","color","onRedirecting"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport logo from \"../assets/logo.svg\";\n\nimport { useAuth0, withAuthenticationRequired } from \"@auth0/auth0-react\";\nimport { render } from \"react-dom\";\nimport Loading from \"./Loading\";\nimport { NavLink as RouterNavLink } from \"react-router-dom\";\n\nimport {\n    Button,\n    NavLink,\n} from \"reactstrap\";\nimport axios from \"axios\";\n\n\n\nconst Order = (props) => {\n\n    const onPlaceOrder = async () => {\n        async () => {\n            const token = await getAccessTokenSilently();\n\n            axios.get('http://localhost:3001/api/order', {\n                headers: {\n                    Authorization: `Bearer ${token}`\n                }\n            })\n\n                .then(resp => {\n\n                    let orders = (user.app_metadata && typeof user.app_metadata.order != 'undefined') ? user.app_metadata.orders : [];\n                    axios.post('https://db-test.eu.auth0.com/api/v2/users/' + user.sub, {\n                        app_metadata: {\n                            ...user.app_metadata,\n                            orders: [\n                                ...orders,\n                                { ...resp.data }\n                            ]\n                        },\n                        headers: {\n                            Authorization: `Bearer ${token}`\n                        }\n                    })\n\n\n                })\n        }\n    }\n\n    console.log('order props', props);\n    const {\n        user,\n        isAuthenticated,\n        getAccessTokenSilently,\n        loginWithRedirect,\n        logout\n    } = useAuth0();\n\n    const onTriggerVerifyEmail = () => {\n\n    }\n\n    return (\n        <>\n            <h1>Place your order</h1>\n\n            {!user.email_verified && <>\n                <h4>1. Please verify your email before continuing</h4>\n                <a onClick={onTriggerVerifyEmail}> Click here to resend email </a>\n\n                <br />\n                <br />\n\n                <h6>2. Place your order</h6>\n            </>}\n\n\n            {user.email_verified && <>\n                <h6 style={{ color: 'green' }}>1. You have already verified your email address</h6>\n                <br />\n\n                <h2>2. Order Details</h2>\n\n                <br />\n                <br />\n\n                <h4>1 x Summer Yummy Tummy Tickler</h4>\n                <p>Honestly, the bestpizza you've never had.</p>\n\n\n                <br />\n\n                <Button\n                    onClick={onPlaceOrder}\n                >\n                    Order Now\n                </Button>\n\n\n            </>}\n\n        </>\n    )\n};\n\nexport default withAuthenticationRequired(Order, {\n    onRedirecting: () => <Loading />,\n});\n"]},"metadata":{},"sourceType":"module"}